var LazyLoader=function(e,t){var c=this;c.Observer=null,c.Selector=e,c.RootMargin="number"==typeof t?t:50,c.ScrollThrottler=null,c.Elements=[],c.Attach=function(e,t){var a,r;t&&("picture"===e.parentNode.nodeName.toLowerCase()?c.Observer.observe(e):(a="picture"===e.nodeName.toLowerCase(),c.Observer.observe(e),a&&(r=e.querySelectorAll("img")).length&&r.forEach(function(e){c.Observer.observe(e)})))},c.Loaded=function(e){e.target.className="lazy-loaded"},c.LoadImage=function(e,t){"img"===e.nodeName.toLowerCase()&&(e.className="lazy-loading",e.addEventListener("load",c.Loaded)),document.querySelectorAll("[data-src='"+e.dataset.src+"']").forEach(function(e){t.unobserve(e),e.dataset.src.length?(e.className="lazy-loading"===e.className?"lazy-loading":"lazy-loaded",e.src=e.dataset.src,e.dataset.src="","srcset"in e.dataset&&e.dataset.srcset.length&&(e.srcset=e.dataset.srcset,e.dataset.srcset="")):e.className="lazy-loaded","alt"in e.dataset&&e.dataset.alt.length&&(e.alt=e.dataset.alt,e.dataset.alt="")})},c.LoadPicture=function(e,t){e.querySelectorAll("source").forEach(function(e){document.querySelectorAll("[data-srcset='"+e.dataset.srcset+"']").forEach(function(e){t.unobserve(e),e.parentNode.className="lazy-loaded",e.dataset.srcset.length&&(e.srcset=e.dataset.srcset,e.dataset.srcset="")})})},c.FallBackLoadImage=function(e){var t,a;for("img"===e.nodeName.toLowerCase()&&(e.className="lazy-loading",e.addEventListener("load",c.Loaded)),a=(t=document.querySelectorAll("[data-src='"+e.getAttribute("data-src")+"']")).length;a;)t[a-=1].getAttribute("data-src").length?(t[a].className="lazy-loading"===t[a].className?"lazy-loading":"lazy-loaded",t[a].src=t[a].getAttribute("data-src"),t[a].setAttribute("data-src",""),t[a].getAttribute("data-srcset")&&t[a].getAttribute("data-srcset").length&&(t[a].srcset=t[a].getAttribute("data-srcset"),t[a].removeAttribute("data-srcset"))):t[a].className="lazy-loaded",t[a].getAttribute("data-alt")&&t[a].getAttribute("data-alt").length&&(t[a].alt=t[a].getAttribute("data-alt"),t[a].removeAttribute("data-alt"));c.Elements=document.querySelectorAll(c.Selector)},c.FallBackLoadPicture=function(e){var t,a,r,o;for(e.className="lazy-loaded",a=(t=e.querySelectorAll("source")).length;a;)for(a-=1,o=(r=document.querySelectorAll('[data-srcset="'+t[a].getAttribute("data-srcset")+'"]')).length;o;)r[o-=1].getAttribute("data-srcset").length&&(r[o].srcset=r[o].getAttribute("data-srcset"),r[o].removeAttribute("data-srcset"));c.Elements=document.querySelectorAll(c.Selector)},c.DebugFullOffset=function(e){var t;return t=e.nodeName.toLowerCase()+" ("+e.offsetTop+")",e.offsetParent&&"body"!==e.offsetParent.nodeName.toLowerCase()&&(t=t+" < "+c.DebugFullOffset(e.offsetParent)),t},c.GetFullOffset=function(e){var t;return t=e.offsetTop,e.offsetParent&&"body"!==e.offsetParent.nodeName.toLowerCase()&&(t+=c.GetFullOffset(e.offsetParent)),parseInt(t)},c.FallBackIsIntersecting=function(e){var t,a,r,o;return a=(t=(void 0===window.scrollY?document.documentElement.scrollTop:window.scrollY)-c.RootMargin)+window.innerHeight+2*c.RootMargin,o=(r=c.GetFullOffset(e))+e.clientHeight,t<=r&&r<=a||t<=o&&o<=a},c.FallBackLazyLoad=function(e){"picture"===e.nodeName.toLowerCase()?c.FallBackLoadPicture(e):c.FallBackLoadImage(e)},c.WindowScroll=function(){var e;if(e=c.Elements.length)for(;e;)e-=1,c.FallBackIsIntersecting(c.Elements[e])&&c.FallBackLazyLoad(c.Elements[e]);else window.removeEventListener("scroll",c.WindowScrollThrottle)},c.WindowScrollThrottle=function(){clearTimeout(c.ScrollThrottler),c.ScrollThrottler=setTimeout(c.WindowScroll,30)},c.LazyLoad=function(e,a){e.forEach(function(e){var t;(void 0===e.isIntersecting&&(e.isIntersecting=!!e.intersectionRatio),e.isIntersecting)&&("picture"===(t=e.target).nodeName.toLowerCase()?c.LoadPicture(t,a):c.LoadImage(t,a))})},c.Wrap=function(e,t){var a,r,o,l,s,n;s="picture"===e.nodeName.toLowerCase(),(a=document.createElement("span")).className="lazy-holder",(r=document.createElement("span")).className="lazy-responsive",s?(n=e.querySelectorAll("img")).length&&(o=(o=(n=n[0]).getAttribute("width"))||1920,l=(l=n.getAttribute("height"))||1080):(o=(o=e.getAttribute("width"))||1920,l=(l=e.getAttribute("height"))||1080),a.style.width=o+"px",r.style.width=o+"px",r.style.paddingTop=l/o*100+"%",a.appendChild(r),r.appendChild(e.cloneNode(!0)),e.parentNode.replaceChild(a,e),c.Attach(r.childNodes[0],t)},c.Init=function(){if(c.Elements=document.querySelectorAll(c.Selector),"undefined"!=typeof IntersectionObserver)c.Observer=new IntersectionObserver(c.LazyLoad,{root:null,rootMargin:c.RootMargin+"px",threshold:0}),c.Elements.forEach(function(e){c.Wrap(e,!0)});else{var e;for(e=c.Elements.length;e;)e-=1,c.Wrap(c.Elements[e],!1);c.Elements=document.querySelectorAll(c.Selector),window.addEventListener("scroll",c.WindowScrollThrottle),c.WindowScroll()}},c.Init()};window.LazyLoadHandler=new LazyLoader(".js-image,iframe[data-src]");