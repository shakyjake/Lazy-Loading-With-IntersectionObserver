var LazyLoader;LazyLoader=function(e,t){var s=this;s.Observer=null,s.Selector=e,s.RootMargin="number"==typeof t?t:50,s.ScrollThrottler=null,s.Elements=[],s.Loaded=function(e){var t=e.target;"picture"===t.parentNode.nodeName.toLowerCase()?t.parentNode.className="lazy-loaded":t.className="lazy-loaded"},s.LoadResourceObserver=function(e,t){t.unobserve(e),s.LoadResource(e)},s.LoadResource=function(e){var t,r,a;switch(r=e.querySelector(".lazy-responsive"),(a=e.getAttribute("data-type"))||(a="img"),(t=document.createElement(a)).className="lazy-loading",a){case"img":t.addEventListener("load",s.Loaded),t.alt=e.getAttribute("data-alt"),t.width=e.getAttribute("data-width"),t.height=e.getAttribute("data-height"),e.getAttribute("data-sizes")&&(t.sizes=e.getAttribute("data-sizes")),t.src=e.getAttribute("data-src"),e.getAttribute("data-srcset")&&(t.srcset=e.getAttribute("data-srcset"));break;case"picture":var o,n,i;for(i=e.Sources.length;n<i;)(o=document.createElement("source")).srcset=e.Sources[n].Srcset,o.sizes=e.Sources[n].Sizes,t.appendChild(o),n+=1;(o=document.createElement("img")).addEventListener("load",s.Loaded),o.alt=e.getAttribute("data-alt"),o.width=e.getAttribute("data-width"),o.height=e.getAttribute("data-height"),o.src=e.getAttribute("data-src"),t.appendChild(o);break;case"input":t.addEventListener("load",s.Loaded),t.alt=e.getAttribute("data-alt"),t.width=e.getAttribute("data-width"),t.height=e.getAttribute("data-height"),t.src=e.getAttribute("data-src");break;case"iframe":t.addEventListener("load",s.Loaded),t.width=e.getAttribute("data-width"),t.height=e.getAttribute("data-height"),t.src=e.getAttribute("data-src")}r.appendChild(t)},s.GetFullOffset=function(e){var t;return t=e.offsetTop,e.offsetParent&&"body"!==e.offsetParent.nodeName.toLowerCase()&&(t+=s.GetFullOffset(e.offsetParent)),parseInt(t)},s.FallBackIsIntersecting=function(e){var t,r,a,o;return r=(t=(void 0===window.scrollY?document.documentElement.scrollTop:window.scrollY)-s.RootMargin)+window.innerHeight+2*s.RootMargin,o=(a=s.GetFullOffset(e))+e.clientHeight,t<=a&&a<=r||t<=o&&o<=r},s.WindowScroll=function(){var e;if(e=s.Elements.length)for(;e;)e-=1,s.FallBackIsIntersecting(s.Elements[e])&&s.LoadResource(s.Elements[e]);else window.removeEventListener("scroll",s.WindowScrollThrottle)},s.WindowScrollThrottle=function(){clearTimeout(s.ScrollThrottler),s.ScrollThrottler=setTimeout(s.WindowScroll,30)},s.LazyLoad=function(e,r){e.forEach(function(e){var t;(void 0===e.isIntersecting&&(e.isIntersecting=!!e.intersectionRatio),e.isIntersecting)&&(t=e.target,s.LoadResourceObserver(t,r))})},s.Attach=function(e,t){var r,a;t&&("picture"===e.parentNode.nodeName.toLowerCase()?s.Observer.observe(e):(r="picture"===e.nodeName.toLowerCase(),s.Observer.observe(e),r&&(a=e.querySelectorAll("img")).length&&a.forEach(function(e){s.Observer.observe(e)})))},s.Wrap=function(e,t){var r,a,o,n;if((n=e.querySelectorAll(".source")).length)for(e.Sources=[];n.length;)e.Sources.push({Srcset:n[0].getAttribute("data-srcset"),Sizes:n[0].getAttribute("data-sizes")}),n[0].parentNode.removeChild(n[0]);e.className="lazy-holder",(r=document.createElement("span")).className="lazy-responsive",a=(a=parseInt(e.getAttribute("data-width")))||1920,o=(o=parseInt(e.getAttribute("data-height")))||1080,e.style.width=a+"px",r.style.paddingTop=o/a*100+"%",e.appendChild(r),s.Attach(e,t)},s.Init=function(){if(s.Elements=document.querySelectorAll(s.Selector),"undefined"!=typeof IntersectionObserver)s.Observer=new IntersectionObserver(s.LazyLoad,{root:null,rootMargin:s.RootMargin+"px",threshold:0}),s.Elements.forEach(function(e){s.Wrap(e,!0)});else{var e;for(e=s.Elements.length;e;)e-=1,s.Wrap(s.Elements[e],!1);s.Elements=document.querySelectorAll(s.Selector),window.addEventListener("scroll",s.WindowScrollThrottle),s.WindowScroll()}},s.Init()};