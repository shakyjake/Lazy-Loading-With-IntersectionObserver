var LazyLoader;LazyLoader=function(e,t){var i=this;i.Observer=null,i.Selector=e,i.RootMargin="number"==typeof t?t:50,i.IgnoreScroll=!1,i.Elements=[],i.Loaded=function(e){var t=e.target;"picture"===t.parentNode.nodeName.toLowerCase()?t.parentNode.className="lazy-loaded":t.className="lazy-loaded"},i.LoadResourceFallback=function(e){var t,r;for(t=[],r=i.Elements.length;r;)r-=1,i.Elements[r]!==e&&t.push(i.Elements[r]);i.Elements=t,i.LoadResource(e)},i.LoadResourceObserver=function(e,t){t.unobserve(e),i.LoadResource(e)},i.LoadResource=function(e){var t,r,a;switch(r=e.querySelector(".lazy-responsive"),(a=e.getAttribute("data-type"))||(a="img"),(t=document.createElement(a)).className="lazy-loading",a){case"img":t.addEventListener("load",i.Loaded),t.alt=e.getAttribute("data-alt"),t.width=e.getAttribute("data-width"),t.height=e.getAttribute("data-height"),e.getAttribute("data-sizes")&&(t.sizes=e.getAttribute("data-sizes")),t.src=e.getAttribute("data-src"),e.getAttribute("data-srcset")&&(t.srcset=e.getAttribute("data-srcset"));break;case"picture":var o,n,s;for(s=e.Sources.length;n<s;)(o=document.createElement("source")).srcset=e.Sources[n].Srcset,o.sizes=e.Sources[n].Sizes,t.appendChild(o),n+=1;(o=document.createElement("img")).addEventListener("load",i.Loaded),o.alt=e.getAttribute("data-alt"),o.width=e.getAttribute("data-width"),o.height=e.getAttribute("data-height"),o.src=e.getAttribute("data-src"),t.appendChild(o);break;case"input":t.addEventListener("load",i.Loaded),t.alt=e.getAttribute("data-alt"),t.width=e.getAttribute("data-width"),t.height=e.getAttribute("data-height"),t.src=e.getAttribute("data-src");break;case"iframe":t.addEventListener("load",i.Loaded),t.width=e.getAttribute("data-width"),t.height=e.getAttribute("data-height"),t.src=e.getAttribute("data-src")}r.appendChild(t)},i.GetFullOffset=function(e){var t;return t=e.offsetTop,e.offsetParent&&"body"!==e.offsetParent.nodeName.toLowerCase()&&(t+=i.GetFullOffset(e.offsetParent)),parseInt(t)},i.FallBackIsIntersecting=function(e){var t,r,a,o;return r=(t=(void 0===window.scrollY?document.documentElement.scrollTop:window.scrollY)-i.RootMargin)+window.innerHeight+2*i.RootMargin,o=(a=i.GetFullOffset(e))+e.clientHeight,t<=a&&a<=r||t<=o&&o<=r},i.WindowScroll=function(){var e;if(e=i.Elements.length)for(;e;)e-=1,i.Elements[e]&&i.FallBackIsIntersecting(i.Elements[e])&&i.LoadResourceFallback(i.Elements[e]);else window.onscroll=null},i.WindowScrollThrottle=function(){i.IgnoreScroll||(i.IgnoreScroll=!0,i.WindowScroll(),setTimeout(function(){i.IgnoreScroll=!1},30))},i.LazyLoad=function(e,r){e.forEach(function(e){var t;(void 0===e.isIntersecting&&(e.isIntersecting=!!e.intersectionRatio),e.isIntersecting)&&(t=e.target,i.LoadResourceObserver(t,r))})},i.Attach=function(e,t){var r,a;t&&("picture"===e.parentNode.nodeName.toLowerCase()?i.Observer.observe(e):(r="picture"===e.nodeName.toLowerCase(),i.Observer.observe(e),r&&(a=e.querySelectorAll("img")).length&&a.forEach(function(e){i.Observer.observe(e)})))},i.Wrap=function(e,t){var r,a,o,n;if((n=e.querySelectorAll(".source")).length)for(e.Sources=[];n.length;)e.Sources.push({Srcset:n[0].getAttribute("data-srcset"),Sizes:n[0].getAttribute("data-sizes")}),n[0].parentNode.removeChild(n[0]);e.className="lazy-holder",(r=document.createElement("span")).className="lazy-responsive",a=(a=parseInt(e.getAttribute("data-width")))||1920,o=(o=parseInt(e.getAttribute("data-height")))||1080,e.style.width=a+"px",r.style.paddingTop=o/a*100+"%",e.appendChild(r),i.Attach(e,t)},i.Init=function(){if(i.Elements=document.querySelectorAll(i.Selector),"undefined"!=typeof IntersectionObserver)i.Observer=new IntersectionObserver(i.LazyLoad,{root:null,rootMargin:i.RootMargin+"px",threshold:0}),i.Elements.forEach(function(e){i.Wrap(e,!0)});else{var e;for(e=i.Elements.length;e;)e-=1,i.Wrap(i.Elements[e],!1);window.onscroll=i.WindowScrollThrottle,i.WindowScroll()}},i.Init()};