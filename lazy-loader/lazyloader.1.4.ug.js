var LazyLoader;LazyLoader=function(e,t,r){var i=this;i.Observer=null,i.UseObserver="undefined"!=typeof IntersectionObserver,i.Selector=e,i.ObserveImmediately="boolean"==typeof t&&t,i.RootMargin="number"==typeof r?r:50,i.IgnoreScroll=!1,i.Elements=[],i.Each=function(e,t){var r,a;for(r=0,a=e.length;r<a;)t(e[r]),r+=1},i.Loaded=function(e){var t=e.target;"picture"===t.parentNode.nodeName.toLowerCase()?t.parentNode.className="lazy-loaded":t.className="lazy-loaded"},i.LoadResourceFallback=function(e){var t,r;for(t=[],r=i.Elements.length;r;)r-=1,i.Elements[r]!==e&&t.push(i.Elements[r]);i.Elements=t,i.LoadResource(e)},i.LoadResourceObserver=function(e,t){t.unobserve(e),i.LoadResource(e)},i.LoadResource=function(e){var r,t,a,o,n;switch(t=e.querySelector(".lazy-responsive"),(a=e.getAttribute("data-type"))||(a="img"),"picture"===a&&void 0===e.Sources&&(a="img"),(r=document.createElement(a)).className="lazy-loading",o=e.getAttribute("data-src"),a){case"img":r.addEventListener("load",i.Loaded),r.alt=e.getAttribute("data-alt"),r.width=e.getAttribute("data-width"),r.height=e.getAttribute("data-height"),e.getAttribute("data-sizes")&&(r.sizes=e.getAttribute("data-sizes")),e.getAttribute("data-srcset")&&(r.srcset=e.getAttribute("data-srcset")),o=e.getAttribute("data-src"),r.src=o;break;case"picture":var s=e.Sources;i.Each(s,function(e){var t;(t=document.createElement("source")).srcset=e.Srcset,t.sizes=e.Sizes,t.type=e.Type,r.appendChild(t)});var l=document.createElement("img");l.addEventListener("load",i.Loaded),l.alt=e.getAttribute("data-alt"),l.width=e.getAttribute("data-width"),l.height=e.getAttribute("data-height"),l.src=o,r.appendChild(l),(n=document.querySelectorAll('[data-src="'+o+'"]')).length&&i.Each(n,function(e){e.Sources=s});break;case"input":r.addEventListener("load",i.Loaded),r.type="image",r.alt=e.getAttribute("data-alt"),r.width=e.getAttribute("data-width"),r.height=e.getAttribute("data-height"),r.src=o;break;case"iframe":r.addEventListener("load",i.Loaded),r.width=e.getAttribute("data-width"),r.height=e.getAttribute("data-height"),r.src=o}e.removeAttribute("data-src"),(n=document.querySelectorAll('[data-src="'+o+'"]')).length&&(i.UseObserver?n.forEach(function(e){i.LoadResourceObserver(e,i.Observer)}):i.Each(n,i.LoadResourceFallback)),t.appendChild(r)},i.GetFullOffset=function(e){var t;return t=e.offsetTop,e.offsetParent&&"body"!==e.offsetParent.nodeName.toLowerCase()&&(t+=i.GetFullOffset(e.offsetParent)),parseInt(t)},i.FallBackIsIntersecting=function(e){var t,r,a,o;return r=(t=(void 0===window.scrollY?document.documentElement.scrollTop:window.scrollY)-i.RootMargin)+window.innerHeight+2*i.RootMargin,o=(a=i.GetFullOffset(e))+e.clientHeight,t<=a&&a<=r||t<=o&&o<=r},i.WindowScroll=function(){var e;if(e=i.Elements.length)for(;e;)e-=1,i.Elements[e]&&i.FallBackIsIntersecting(i.Elements[e])&&(i.LoadResourceFallback(i.Elements[e]),e=i.Elements.length);else window.onscroll=null},i.WindowScrollThrottle=function(){i.IgnoreScroll||(i.IgnoreScroll=!0,i.WindowScroll(),setTimeout(function(){i.IgnoreScroll=!1},30))},i.LazyLoad=function(e,r){e.forEach(function(e){var t;(void 0===e.isIntersecting&&(e.isIntersecting=!!e.intersectionRatio),e.isIntersecting)&&(t=e.target,i.LoadResourceObserver(t,r))})},i.ObserveAll=function(){i.UseObserver?i.Elements.forEach(function(e){i.Observer.observe(e)}):i.ObserveFallback()},i.ObserveFallback=function(){window.onscroll=i.WindowScrollThrottle,i.WindowScroll(),setTimeout(i.WindowScroll,500)},i.Observe=function(e){i.UseObserver&&i.Observer.observe(e)},i.Wrap=function(e){var t,r,a,o;if((o=e.querySelectorAll(".source")).length)for(e.Sources=[];o.length;)e.Sources.push({Srcset:o[0].getAttribute("data-srcset"),Sizes:o[0].getAttribute("data-sizes"),Type:o[0].getAttribute("data-type")}),o[0].parentNode.removeChild(o[0]),o=e.querySelectorAll(".source");e.className="lazy-holder",(t=document.createElement("span")).className="lazy-responsive",r=(r=parseInt(e.getAttribute("data-width")))||1920,a=(a=parseInt(e.getAttribute("data-height")))||1080,e.style.width=r+"px",t.style.paddingTop=a/r*100+"%",e.appendChild(t),i.ObserveImmediately&&i.Observe(e)},i.Init=function(){i.Elements=document.querySelectorAll(i.Selector),i.UseObserver?(i.Observer=new IntersectionObserver(i.LazyLoad,{root:null,rootMargin:i.RootMargin+"px",threshold:0}),i.Elements.forEach(function(e){i.Wrap(e)})):(i.Each(i.Elements,i.Wrap),i.ObserveImmediately&&i.ObserveFallback())},i.Init()},window.LazyLoadHandler=new LazyLoader(".js-image");